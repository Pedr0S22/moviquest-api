{"sequenceNumber":0,"timestamp":1755947524721,"nanoseconds":721242200,"level":"INFO","threadName":"background-preinit","loggerName":"org.hibernate.validator.internal.util.Version","context":{"name":"default","birthdate":1755947523420,"properties":{}},"mdc": {},"message":"HV000001: Hibernate Validator 8.0.2.Final","arguments": [],"throwable":null}
{"sequenceNumber":0,"timestamp":1755947524766,"nanoseconds":766974500,"level":"INFO","threadName":"main","loggerName":"dev.Pedro.movies_api.MoviesApiApplicationTests","context":{"name":"default","birthdate":1755947523420,"properties":{}},"mdc": {},"message":"Starting MoviesApiApplicationTests using Java 21.0.7 with PID 421816 (started by pedro in C:\\Users\\pedro\\Desktop\\Documentos_uni\\Projetos Extra\\Projetos Verao 25\\movies-api)","throwable":null}
{"sequenceNumber":0,"timestamp":1755947524797,"nanoseconds":797692600,"level":"DEBUG","threadName":"main","loggerName":"dev.Pedro.movies_api.MoviesApiApplicationTests","context":{"name":"default","birthdate":1755947523420,"properties":{}},"mdc": {},"message":"Running with Spring Boot v3.5.4, Spring v6.2.9","throwable":null}
{"sequenceNumber":0,"timestamp":1755947524799,"nanoseconds":799673500,"level":"INFO","threadName":"main","loggerName":"dev.Pedro.movies_api.MoviesApiApplicationTests","context":{"name":"default","birthdate":1755947523420,"properties":{}},"mdc": {},"message":"No active profile set, falling back to 1 default profile: \"default\"","throwable":null}
{"sequenceNumber":0,"timestamp":1755947526867,"nanoseconds":867055000,"level":"INFO","threadName":"main","loggerName":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","context":{"name":"default","birthdate":1755947523420,"properties":{}},"mdc": {},"message":"Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.","throwable":null}
{"sequenceNumber":0,"timestamp":1755947527031,"nanoseconds":31046600,"level":"INFO","threadName":"main","loggerName":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","context":{"name":"default","birthdate":1755947523420,"properties":{}},"mdc": {},"message":"Finished Spring Data repository scanning in 153 ms. Found 5 MongoDB repository interfaces.","throwable":null}
{"sequenceNumber":0,"timestamp":1755947528783,"nanoseconds":783918000,"level":"INFO","threadName":"cluster-ClusterId{value='68a9a2089efb876b95ebbd9b', description='null'}-srv-cluster0.turbcsf.mongodb.net","loggerName":"org.mongodb.driver.cluster","context":{"name":"default","birthdate":1755947523420,"properties":{}},"mdc": {},"message":"Adding discovered server ac-zfwqdkl-shard-00-00.turbcsf.mongodb.net:27017 to client view of cluster","throwable":null}
{"sequenceNumber":0,"timestamp":1755947528983,"nanoseconds":983422700,"level":"INFO","threadName":"main","loggerName":"org.mongodb.driver.client","context":{"name":"default","birthdate":1755947523420,"properties":{}},"mdc": {},"message":"MongoClient with metadata {\"driver\": {\"name\": \"mongo-java-driver|sync|spring-boot\", \"version\": \"5.5.1\"}, \"os\": {\"type\": \"Windows\", \"name\": \"Windows 11\", \"architecture\": \"amd64\", \"version\": \"10.0\"}, \"platform\": \"Java\/Oracle Corporation\/21.0.7+8-LTS-245\"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='Pedr0S22', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, commandListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsCommandListener@1e477944], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@6cf047cf, com.mongodb.Jep395RecordCodecProvider@1c92a549, com.mongodb.KotlinCodecProvider@323e026d]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=cluster0.turbcsf.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-bm1slm-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='3000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=3000, readTimeoutMS=3000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=3000, readTimeoutMS=3000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsConnectionPoolListener@1716c037], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverMonitoringMode=AUTO, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null, timeoutMS=null}","throwable":null}
{"sequenceNumber":0,"timestamp":1755947529044,"nanoseconds":44928900,"level":"INFO","threadName":"cluster-ClusterId{value='68a9a2089efb876b95ebbd9b', description='null'}-srv-cluster0.turbcsf.mongodb.net","loggerName":"org.mongodb.driver.cluster","context":{"name":"default","birthdate":1755947523420,"properties":{}},"mdc": {},"message":"Adding discovered server ac-zfwqdkl-shard-00-02.turbcsf.mongodb.net:27017 to client view of cluster","throwable":null}
{"sequenceNumber":0,"timestamp":1755947529071,"nanoseconds":71082200,"level":"INFO","threadName":"cluster-ClusterId{value='68a9a2089efb876b95ebbd9b', description='null'}-srv-cluster0.turbcsf.mongodb.net","loggerName":"org.mongodb.driver.cluster","context":{"name":"default","birthdate":1755947523420,"properties":{}},"mdc": {},"message":"Adding discovered server ac-zfwqdkl-shard-00-01.turbcsf.mongodb.net:27017 to client view of cluster","throwable":null}
{"sequenceNumber":0,"timestamp":1755947530498,"nanoseconds":498989300,"level":"INFO","threadName":"cluster-ClusterId{value='68a9a2089efb876b95ebbd9b', description='null'}-ac-zfwqdkl-shard-00-00.turbcsf.mongodb.net:27017","loggerName":"org.mongodb.driver.cluster","context":{"name":"default","birthdate":1755947523420,"properties":{}},"mdc": {},"message":"Monitor thread successfully connected to server with description ServerDescription{address=ac-zfwqdkl-shard-00-00.turbcsf.mongodb.net:27017, type=REPLICA_SET_SECONDARY, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=724240300, minRoundTripTimeNanos=0, setName='atlas-bm1slm-shard-0', canonicalAddress=ac-zfwqdkl-shard-00-00.turbcsf.mongodb.net:27017, hosts=[ac-zfwqdkl-shard-00-00.turbcsf.mongodb.net:27017, ac-zfwqdkl-shard-00-01.turbcsf.mongodb.net:27017, ac-zfwqdkl-shard-00-02.turbcsf.mongodb.net:27017], passives=[], arbiters=[], primary='ac-zfwqdkl-shard-00-01.turbcsf.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=68a1e319759b10d2a257cff5, counter=4}, lastWriteDate=Sat Aug 23 12:12:08 WEST 2025, lastUpdateTimeNanos=772860687394100}","throwable":null}
{"sequenceNumber":0,"timestamp":1755947530498,"nanoseconds":498989300,"level":"INFO","threadName":"cluster-ClusterId{value='68a9a2089efb876b95ebbd9b', description='null'}-ac-zfwqdkl-shard-00-01.turbcsf.mongodb.net:27017","loggerName":"org.mongodb.driver.cluster","context":{"name":"default","birthdate":1755947523420,"properties":{}},"mdc": {},"message":"Monitor thread successfully connected to server with description ServerDescription{address=ac-zfwqdkl-shard-00-01.turbcsf.mongodb.net:27017, type=REPLICA_SET_PRIMARY, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=725156700, minRoundTripTimeNanos=0, setName='atlas-bm1slm-shard-0', canonicalAddress=ac-zfwqdkl-shard-00-01.turbcsf.mongodb.net:27017, hosts=[ac-zfwqdkl-shard-00-00.turbcsf.mongodb.net:27017, ac-zfwqdkl-shard-00-01.turbcsf.mongodb.net:27017, ac-zfwqdkl-shard-00-02.turbcsf.mongodb.net:27017], passives=[], arbiters=[], primary='ac-zfwqdkl-shard-00-01.turbcsf.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff000000000000001e, setVersion=1, topologyVersion=TopologyVersion{processId=68a1e576fc0c9e8e4ed95bbb, counter=6}, lastWriteDate=Sat Aug 23 12:12:08 WEST 2025, lastUpdateTimeNanos=772860687394100}","throwable":null}
{"sequenceNumber":0,"timestamp":1755947530499,"nanoseconds":499992900,"level":"INFO","threadName":"cluster-ClusterId{value='68a9a2089efb876b95ebbd9b', description='null'}-ac-zfwqdkl-shard-00-02.turbcsf.mongodb.net:27017","loggerName":"org.mongodb.driver.cluster","context":{"name":"default","birthdate":1755947523420,"properties":{}},"mdc": {},"message":"Monitor thread successfully connected to server with description ServerDescription{address=ac-zfwqdkl-shard-00-02.turbcsf.mongodb.net:27017, type=REPLICA_SET_SECONDARY, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=724243400, minRoundTripTimeNanos=0, setName='atlas-bm1slm-shard-0', canonicalAddress=ac-zfwqdkl-shard-00-02.turbcsf.mongodb.net:27017, hosts=[ac-zfwqdkl-shard-00-00.turbcsf.mongodb.net:27017, ac-zfwqdkl-shard-00-01.turbcsf.mongodb.net:27017, ac-zfwqdkl-shard-00-02.turbcsf.mongodb.net:27017], passives=[], arbiters=[], primary='ac-zfwqdkl-shard-00-01.turbcsf.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=68a1e85906e96a5d7b97e76d, counter=3}, lastWriteDate=Sat Aug 23 12:12:08 WEST 2025, lastUpdateTimeNanos=772860687394100}","throwable":null}
{"sequenceNumber":0,"timestamp":1755947530515,"nanoseconds":515163400,"level":"INFO","threadName":"cluster-ClusterId{value='68a9a2089efb876b95ebbd9b', description='null'}-ac-zfwqdkl-shard-00-01.turbcsf.mongodb.net:27017","loggerName":"org.mongodb.driver.cluster","context":{"name":"default","birthdate":1755947523420,"properties":{}},"mdc": {},"message":"Discovered replica set primary ac-zfwqdkl-shard-00-01.turbcsf.mongodb.net:27017 with max election id 7fffffff000000000000001e and max set version 1","throwable":null}
{"sequenceNumber":0,"timestamp":1755947530619,"nanoseconds":619773000,"level":"INFO","threadName":"main","loggerName":"org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer","context":{"name":"default","birthdate":1755947523420,"properties":{}},"mdc": {},"message":"Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl","throwable":null}
{"sequenceNumber":0,"timestamp":1755947533057,"nanoseconds":57218400,"level":"INFO","threadName":"main","loggerName":"org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver","context":{"name":"default","birthdate":1755947523420,"properties":{}},"mdc": {},"message":"Exposing 25 endpoints beneath base path '\/actuator'","throwable":null}
{"sequenceNumber":0,"timestamp":1755947534202,"nanoseconds":202812300,"level":"INFO","threadName":"main","loggerName":"dev.Pedro.movies_api.MoviesApiApplicationTests","context":{"name":"default","birthdate":1755947523420,"properties":{}},"mdc": {},"message":"Started MoviesApiApplicationTests in 10.144 seconds (process running for 11.787)","throwable":null}
{"sequenceNumber":0,"timestamp":1755947534401,"nanoseconds":401275900,"level":"DEBUG","threadName":"main","loggerName":"dev.Pedro.movies_api.logging.LogbackAppenderRegistrar","context":{"name":"default","birthdate":1755947523420,"properties":{}},"mdc": {},"message":"Logback MongoAppenderRegistrar is ready","throwable":null}
{"sequenceNumber":0,"timestamp":1755947536890,"nanoseconds":890325600,"level":"DEBUG","threadName":"main","loggerName":"dev.Pedro.movies_api.service.AuthService","context":{"name":"default","birthdate":1755947523420,"properties":{}},"mdc": {},"message":"The username {} is already taken","arguments": ["john"],"throwable":null}
{"sequenceNumber":0,"timestamp":1755947536929,"nanoseconds":929585900,"level":"DEBUG","threadName":"main","loggerName":"dev.Pedro.movies_api.service.AuthService","context":{"name":"default","birthdate":1755947523420,"properties":{}},"mdc": {},"message":"The email {} is already taken","arguments": ["john@mail.com"],"throwable":null}
{"sequenceNumber":0,"timestamp":1755947537120,"nanoseconds":120654700,"level":"DEBUG","threadName":"main","loggerName":"dev.Pedro.movies_api.service.AuthService","context":{"name":"default","birthdate":1755947523420,"properties":{}},"mdc": {},"message":"the user {} has roles {}","arguments": ["admin","[Role(id=68a9a2119efb876b95ebbda1, roleName=ClientRoles.ROLE_USER), Role(id=68a9a2119efb876b95ebbda0, roleName=ClientRoles.ROLE_ADMIN)]"],"throwable":null}
{"sequenceNumber":0,"timestamp":1755947537134,"nanoseconds":134212000,"level":"DEBUG","threadName":"main","loggerName":"dev.Pedro.movies_api.service.AuthService","context":{"name":"default","birthdate":1755947523420,"properties":{}},"mdc": {},"message":"the user {} has roles {}","arguments": ["john","[Role(id=68a9a2119efb876b95ebbda3, roleName=ClientRoles.ROLE_USER)]"],"throwable":null}
{"sequenceNumber":0,"timestamp":1755947537147,"nanoseconds":147256300,"level":"DEBUG","threadName":"main","loggerName":"dev.Pedro.movies_api.service.AuthService","context":{"name":"default","birthdate":1755947523420,"properties":{}},"mdc": {},"message":"Role {} does not exist in database","arguments": ["manager"],"throwable":null}
{"sequenceNumber":0,"timestamp":1755947537915,"nanoseconds":915553800,"level":"WARN","threadName":"main","loggerName":"dev.Pedro.movies_api.service.LoggingService","context":{"name":"default","birthdate":1755947523420,"properties":{}},"mdc": {},"message":"[LoggingService] Fallback triggered, requeuing logs {} due to: RuntimeException - DB down","arguments": ["1"],"throwable":null}
{"sequenceNumber":0,"timestamp":1755947538079,"nanoseconds":79360200,"level":"INFO","threadName":"main","loggerName":"dev.Pedro.movies_api.service.MovieService","context":{"name":"default","birthdate":1755947523420,"properties":{}},"mdc": {},"message":"No filters - returning all movies","throwable":null}
{"sequenceNumber":0,"timestamp":1755947538080,"nanoseconds":80360900,"level":"DEBUG","threadName":"main","loggerName":"dev.Pedro.movies_api.service.MovieService","context":{"name":"default","birthdate":1755947523420,"properties":{}},"mdc": {},"message":"Final query: {}","arguments": ["{}"],"throwable":null}
{"sequenceNumber":0,"timestamp":1755947538097,"nanoseconds":97314900,"level":"DEBUG","threadName":"main","loggerName":"dev.Pedro.movies_api.service.MovieService","context":{"name":"default","birthdate":1755947523420,"properties":{}},"mdc": {},"message":"Final query: {}","arguments": ["{\"$and\": [{\"title\": {\"$regularExpression\": {\"pattern\": \"Matrix\", \"options\": \"i\"}}}, {\"genres\": {\"$in\": [\"Action\", \"Sci-Fi\"]}}, {\"releaseDate\": {\"$gte\": \"1970-01-01\", \"$lte\": \"1970-01-01\"}}]}"],"throwable":null}
{"sequenceNumber":0,"timestamp":1755947538278,"nanoseconds":278821900,"level":"DEBUG","threadName":"main","loggerName":"dev.Pedro.movies_api.service.MovieService","context":{"name":"default","birthdate":1755947523420,"properties":{}},"mdc": {},"message":"The movie with imdbId tt1234567 does not exist","throwable":null}
{"sequenceNumber":0,"timestamp":1755947538283,"nanoseconds":283328100,"level":"DEBUG","threadName":"main","loggerName":"dev.Pedro.movies_api.service.MovieService","context":{"name":"default","birthdate":1755947523420,"properties":{}},"mdc": {},"message":"The movie with imdbId tt1234567 does not exist","throwable":null}
{"sequenceNumber":0,"timestamp":1755947538481,"nanoseconds":481193300,"level":"DEBUG","threadName":"main","loggerName":"dev.Pedro.movies_api.service.ReviewService","context":{"name":"default","birthdate":1755947523420,"properties":{}},"mdc": {},"message":"The movie with imdbId tt999 does not exist, so the Review was not created","throwable":null}
