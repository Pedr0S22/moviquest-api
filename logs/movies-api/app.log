{"sequenceNumber":0,"timestamp":1756477103554,"nanoseconds":554651000,"level":"INFO","threadName":"background-preinit","loggerName":"org.hibernate.validator.internal.util.Version","context":{"name":"default","birthdate":1756477102868,"properties":{}},"mdc": {},"message":"HV000001: Hibernate Validator 8.0.3.Final","arguments": [],"throwable":null}
{"sequenceNumber":0,"timestamp":1756477103588,"nanoseconds":588023200,"level":"INFO","threadName":"main","loggerName":"dev.Pedro.movies_api.MoviesApiApplicationTests","context":{"name":"default","birthdate":1756477102868,"properties":{}},"mdc": {},"message":"Starting MoviesApiApplicationTests using Java 21.0.7 with PID 548668 (started by pedro in C:\\Users\\pedro\\Desktop\\Documentos_uni\\Projetos Extra\\Projetos Verao 25\\movies-api)","throwable":null}
{"sequenceNumber":0,"timestamp":1756477103589,"nanoseconds":589103100,"level":"DEBUG","threadName":"main","loggerName":"dev.Pedro.movies_api.MoviesApiApplicationTests","context":{"name":"default","birthdate":1756477102868,"properties":{}},"mdc": {},"message":"Running with Spring Boot v3.5.5, Spring v6.2.10","throwable":null}
{"sequenceNumber":0,"timestamp":1756477103589,"nanoseconds":589631900,"level":"INFO","threadName":"main","loggerName":"dev.Pedro.movies_api.MoviesApiApplicationTests","context":{"name":"default","birthdate":1756477102868,"properties":{}},"mdc": {},"message":"No active profile set, falling back to 1 default profile: \"default\"","throwable":null}
{"sequenceNumber":0,"timestamp":1756477104669,"nanoseconds":669477100,"level":"INFO","threadName":"main","loggerName":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","context":{"name":"default","birthdate":1756477102868,"properties":{}},"mdc": {},"message":"Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.","throwable":null}
{"sequenceNumber":0,"timestamp":1756477104775,"nanoseconds":775517600,"level":"INFO","threadName":"main","loggerName":"org.springframework.data.repository.config.RepositoryConfigurationDelegate","context":{"name":"default","birthdate":1756477102868,"properties":{}},"mdc": {},"message":"Finished Spring Data repository scanning in 95 ms. Found 5 MongoDB repository interfaces.","throwable":null}
{"sequenceNumber":0,"timestamp":1756477105622,"nanoseconds":622450900,"level":"INFO","threadName":"cluster-ClusterId{value='68b1b6b17492bc7476c7c8c8', description='null'}-srv-cluster0.turbcsf.mongodb.net","loggerName":"org.mongodb.driver.cluster","context":{"name":"default","birthdate":1756477102868,"properties":{}},"mdc": {},"message":"Adding discovered server ac-zfwqdkl-shard-00-00.turbcsf.mongodb.net:27017 to client view of cluster","throwable":null}
{"sequenceNumber":0,"timestamp":1756477105623,"nanoseconds":623954100,"level":"INFO","threadName":"main","loggerName":"org.mongodb.driver.client","context":{"name":"default","birthdate":1756477102868,"properties":{}},"mdc": {},"message":"MongoClient with metadata {\"driver\": {\"name\": \"mongo-java-driver|sync|spring-boot\", \"version\": \"5.5.1\"}, \"os\": {\"type\": \"Windows\", \"name\": \"Windows 11\", \"architecture\": \"amd64\", \"version\": \"10.0\"}, \"platform\": \"Java\/Oracle Corporation\/21.0.7+8-LTS-245\"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='Pedr0S22', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, commandListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsCommandListener@3b3546a3], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@134c38, com.mongodb.Jep395RecordCodecProvider@3d235635, com.mongodb.KotlinCodecProvider@4cc7e3ad]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=cluster0.turbcsf.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-bm1slm-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='3000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=3000, readTimeoutMS=3000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=3000, readTimeoutMS=3000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsConnectionPoolListener@5dd6a4c8], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverMonitoringMode=AUTO, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null, timeoutMS=null}","throwable":null}
{"sequenceNumber":0,"timestamp":1756477105670,"nanoseconds":670650200,"level":"INFO","threadName":"cluster-ClusterId{value='68b1b6b17492bc7476c7c8c8', description='null'}-srv-cluster0.turbcsf.mongodb.net","loggerName":"org.mongodb.driver.cluster","context":{"name":"default","birthdate":1756477102868,"properties":{}},"mdc": {},"message":"Adding discovered server ac-zfwqdkl-shard-00-01.turbcsf.mongodb.net:27017 to client view of cluster","throwable":null}
{"sequenceNumber":0,"timestamp":1756477105674,"nanoseconds":674173000,"level":"INFO","threadName":"cluster-ClusterId{value='68b1b6b17492bc7476c7c8c8', description='null'}-srv-cluster0.turbcsf.mongodb.net","loggerName":"org.mongodb.driver.cluster","context":{"name":"default","birthdate":1756477102868,"properties":{}},"mdc": {},"message":"Adding discovered server ac-zfwqdkl-shard-00-02.turbcsf.mongodb.net:27017 to client view of cluster","throwable":null}
{"sequenceNumber":0,"timestamp":1756477106417,"nanoseconds":417901500,"level":"INFO","threadName":"cluster-ClusterId{value='68b1b6b17492bc7476c7c8c8', description='null'}-ac-zfwqdkl-shard-00-00.turbcsf.mongodb.net:27017","loggerName":"org.mongodb.driver.cluster","context":{"name":"default","birthdate":1756477102868,"properties":{}},"mdc": {},"message":"Monitor thread successfully connected to server with description ServerDescription{address=ac-zfwqdkl-shard-00-00.turbcsf.mongodb.net:27017, type=REPLICA_SET_SECONDARY, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=385349400, minRoundTripTimeNanos=0, setName='atlas-bm1slm-shard-0', canonicalAddress=ac-zfwqdkl-shard-00-00.turbcsf.mongodb.net:27017, hosts=[ac-zfwqdkl-shard-00-00.turbcsf.mongodb.net:27017, ac-zfwqdkl-shard-00-01.turbcsf.mongodb.net:27017, ac-zfwqdkl-shard-00-02.turbcsf.mongodb.net:27017], passives=[], arbiters=[], primary='ac-zfwqdkl-shard-00-02.turbcsf.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=68adc11e66deaaf65d27e3d2, counter=4}, lastWriteDate=Fri Aug 29 15:18:21 WEST 2025, lastUpdateTimeNanos=1302474997197700}","throwable":null}
{"sequenceNumber":0,"timestamp":1756477106417,"nanoseconds":417901500,"level":"INFO","threadName":"cluster-ClusterId{value='68b1b6b17492bc7476c7c8c8', description='null'}-ac-zfwqdkl-shard-00-02.turbcsf.mongodb.net:27017","loggerName":"org.mongodb.driver.cluster","context":{"name":"default","birthdate":1756477102868,"properties":{}},"mdc": {},"message":"Monitor thread successfully connected to server with description ServerDescription{address=ac-zfwqdkl-shard-00-02.turbcsf.mongodb.net:27017, type=REPLICA_SET_PRIMARY, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=385349200, minRoundTripTimeNanos=0, setName='atlas-bm1slm-shard-0', canonicalAddress=ac-zfwqdkl-shard-00-02.turbcsf.mongodb.net:27017, hosts=[ac-zfwqdkl-shard-00-00.turbcsf.mongodb.net:27017, ac-zfwqdkl-shard-00-01.turbcsf.mongodb.net:27017, ac-zfwqdkl-shard-00-02.turbcsf.mongodb.net:27017], passives=[], arbiters=[], primary='ac-zfwqdkl-shard-00-02.turbcsf.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff000000000000001f, setVersion=1, topologyVersion=TopologyVersion{processId=68adc417ca6430585d745b6e, counter=6}, lastWriteDate=Fri Aug 29 15:18:21 WEST 2025, lastUpdateTimeNanos=1302474997197600}","throwable":null}
{"sequenceNumber":0,"timestamp":1756477106417,"nanoseconds":417901500,"level":"INFO","threadName":"cluster-ClusterId{value='68b1b6b17492bc7476c7c8c8', description='null'}-ac-zfwqdkl-shard-00-01.turbcsf.mongodb.net:27017","loggerName":"org.mongodb.driver.cluster","context":{"name":"default","birthdate":1756477102868,"properties":{}},"mdc": {},"message":"Monitor thread successfully connected to server with description ServerDescription{address=ac-zfwqdkl-shard-00-01.turbcsf.mongodb.net:27017, type=REPLICA_SET_SECONDARY, cryptd=false, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=387149700, minRoundTripTimeNanos=0, setName='atlas-bm1slm-shard-0', canonicalAddress=ac-zfwqdkl-shard-00-01.turbcsf.mongodb.net:27017, hosts=[ac-zfwqdkl-shard-00-00.turbcsf.mongodb.net:27017, ac-zfwqdkl-shard-00-01.turbcsf.mongodb.net:27017, ac-zfwqdkl-shard-00-02.turbcsf.mongodb.net:27017], passives=[], arbiters=[], primary='ac-zfwqdkl-shard-00-02.turbcsf.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='euw3-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='EU_WEST_3'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=1, topologyVersion=TopologyVersion{processId=68adc69469ee82945c1b472e, counter=3}, lastWriteDate=Fri Aug 29 15:18:21 WEST 2025, lastUpdateTimeNanos=1302474997197700}","throwable":null}
{"sequenceNumber":0,"timestamp":1756477106420,"nanoseconds":420071700,"level":"INFO","threadName":"main","loggerName":"org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer","context":{"name":"default","birthdate":1756477102868,"properties":{}},"mdc": {},"message":"Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl","throwable":null}
{"sequenceNumber":0,"timestamp":1756477106424,"nanoseconds":424585100,"level":"INFO","threadName":"cluster-ClusterId{value='68b1b6b17492bc7476c7c8c8', description='null'}-ac-zfwqdkl-shard-00-02.turbcsf.mongodb.net:27017","loggerName":"org.mongodb.driver.cluster","context":{"name":"default","birthdate":1756477102868,"properties":{}},"mdc": {},"message":"Discovered replica set primary ac-zfwqdkl-shard-00-02.turbcsf.mongodb.net:27017 with max election id 7fffffff000000000000001f and max set version 1","throwable":null}
{"sequenceNumber":0,"timestamp":1756477107536,"nanoseconds":536901200,"level":"INFO","threadName":"main","loggerName":"org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver","context":{"name":"default","birthdate":1756477102868,"properties":{}},"mdc": {},"message":"Exposing 25 endpoints beneath base path '\/actuator'","throwable":null}
{"sequenceNumber":0,"timestamp":1756477108056,"nanoseconds":56533700,"level":"INFO","threadName":"main","loggerName":"dev.Pedro.movies_api.MoviesApiApplicationTests","context":{"name":"default","birthdate":1756477102868,"properties":{}},"mdc": {},"message":"Started MoviesApiApplicationTests in 4.828 seconds (process running for 5.714)","throwable":null}
{"sequenceNumber":0,"timestamp":1756477108125,"nanoseconds":125717100,"level":"DEBUG","threadName":"main","loggerName":"dev.Pedro.movies_api.logging.LogbackAppenderRegistrar","context":{"name":"default","birthdate":1756477102868,"properties":{}},"mdc": {},"message":"Logback MongoAppenderRegistrar is ready","throwable":null}
{"sequenceNumber":0,"timestamp":1756477109454,"nanoseconds":454736100,"level":"DEBUG","threadName":"main","loggerName":"dev.Pedro.movies_api.service.AuthService","context":{"name":"default","birthdate":1756477102868,"properties":{}},"mdc": {},"message":"The username {} is already taken","arguments": ["john"],"throwable":null}
{"sequenceNumber":0,"timestamp":1756477109475,"nanoseconds":475418800,"level":"DEBUG","threadName":"main","loggerName":"dev.Pedro.movies_api.service.AuthService","context":{"name":"default","birthdate":1756477102868,"properties":{}},"mdc": {},"message":"The email {} is already taken","arguments": ["john@mail.com"],"throwable":null}
{"sequenceNumber":0,"timestamp":1756477109568,"nanoseconds":568045700,"level":"DEBUG","threadName":"main","loggerName":"dev.Pedro.movies_api.service.AuthService","context":{"name":"default","birthdate":1756477102868,"properties":{}},"mdc": {},"message":"the user {} has roles {}","arguments": ["admin","[Role(id=68b1b6b57492bc7476c7c8cd, roleName=ClientRoles.ROLE_ADMIN), Role(id=68b1b6b57492bc7476c7c8ce, roleName=ClientRoles.ROLE_USER)]"],"throwable":null}
{"sequenceNumber":0,"timestamp":1756477109576,"nanoseconds":576869500,"level":"DEBUG","threadName":"main","loggerName":"dev.Pedro.movies_api.service.AuthService","context":{"name":"default","birthdate":1756477102868,"properties":{}},"mdc": {},"message":"the user {} has roles {}","arguments": ["john","[Role(id=68b1b6b57492bc7476c7c8d0, roleName=ClientRoles.ROLE_USER)]"],"throwable":null}
{"sequenceNumber":0,"timestamp":1756477109584,"nanoseconds":584852700,"level":"DEBUG","threadName":"main","loggerName":"dev.Pedro.movies_api.service.AuthService","context":{"name":"default","birthdate":1756477102868,"properties":{}},"mdc": {},"message":"Role {} does not exist in database","arguments": ["manager"],"throwable":null}
{"sequenceNumber":0,"timestamp":1756477109990,"nanoseconds":990627500,"level":"WARN","threadName":"main","loggerName":"dev.Pedro.movies_api.service.LoggingService","context":{"name":"default","birthdate":1756477102868,"properties":{}},"mdc": {},"message":"[LoggingService] Fallback triggered, requeuing logs {} due to: RuntimeException - DB down","arguments": ["1"],"throwable":null}
{"sequenceNumber":0,"timestamp":1756477110090,"nanoseconds":90349800,"level":"INFO","threadName":"main","loggerName":"dev.Pedro.movies_api.service.MovieService","context":{"name":"default","birthdate":1756477102868,"properties":{}},"mdc": {},"message":"No filters - returning all movies","throwable":null}
{"sequenceNumber":0,"timestamp":1756477110090,"nanoseconds":90349800,"level":"DEBUG","threadName":"main","loggerName":"dev.Pedro.movies_api.service.MovieService","context":{"name":"default","birthdate":1756477102868,"properties":{}},"mdc": {},"message":"Final query: {}","arguments": ["{}"],"throwable":null}
{"sequenceNumber":0,"timestamp":1756477110098,"nanoseconds":98307700,"level":"DEBUG","threadName":"main","loggerName":"dev.Pedro.movies_api.service.MovieService","context":{"name":"default","birthdate":1756477102868,"properties":{}},"mdc": {},"message":"Final query: {}","arguments": ["{\"$and\": [{\"title\": {\"$regularExpression\": {\"pattern\": \"Matrix\", \"options\": \"i\"}}}, {\"genres\": {\"$in\": [\"Sci-Fi\", \"Action\"]}}, {\"releaseDate\": {\"$gte\": \"1970-01-01\", \"$lte\": \"1970-01-01\"}}]}"],"throwable":null}
{"sequenceNumber":0,"timestamp":1756477110197,"nanoseconds":197701100,"level":"DEBUG","threadName":"main","loggerName":"dev.Pedro.movies_api.service.MovieService","context":{"name":"default","birthdate":1756477102868,"properties":{}},"mdc": {},"message":"The movie with imdbId tt1234567 does not exist","throwable":null}
{"sequenceNumber":0,"timestamp":1756477110201,"nanoseconds":201051000,"level":"DEBUG","threadName":"main","loggerName":"dev.Pedro.movies_api.service.MovieService","context":{"name":"default","birthdate":1756477102868,"properties":{}},"mdc": {},"message":"The movie with imdbId tt1234567 does not exist","throwable":null}
{"sequenceNumber":0,"timestamp":1756477110323,"nanoseconds":323450000,"level":"DEBUG","threadName":"main","loggerName":"dev.Pedro.movies_api.service.ReviewService","context":{"name":"default","birthdate":1756477102868,"properties":{}},"mdc": {},"message":"The movie with imdbId tt999 does not exist, so the Review was not created","throwable":null}
